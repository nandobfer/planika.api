datasource db {
	provider = "mysql"
	url = env("DATABASE_URL")
}
generator client {
	provider = "prisma-client-js"
	previewFeatures = ["fullTextSearch","fullTextIndex"]
}

model User {
    id                  String    @id
    name                String
    email               String    @unique
    password            String
    createdAt           String
    defaultCurrency     String  @default("BRL")
    picture             String?
    trips               TripParticipant[]
}

model CurrencyRate {
    id          Int     @id @default(autoincrement())
    symbol      String
    name        String
    code        String  @unique
    updatedAt   String
    base        String
    rate        Float
}

model TripParticipant {
    id          String  @id @default(cuid())
    tripId      String
    role        String
    createdAt   String
    updatedAt   String
    status      String
    email       String?

    trip        Trip    @relation(fields: [tripId], references: [id])
    
    userId      String?
    user        User?    @relation(fields: [userId], references: [id])

}

model Trip {
    id              String  @id @default(cuid())
    name            String
    description     String
    createdAt       String
    updatedAt       String

    startDate       String?
    endDate         String?


    participants    TripParticipant[]
    nodesJson       Json

}

model Recovery {
  id                Int             @id @default(autoincrement())
  target            String
  code              String
  datetime          String
}
